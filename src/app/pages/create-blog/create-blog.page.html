<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button menu="first">
    </ion-menu-button>
    </ion-buttons>
    <ion-title>
      Create Blog
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

   <form [formGroup]="blogForm">
    <!-- <ion-item>
      <ion-label position="floating">Author: {{currentUser}} </ion-label>
    </ion-item>
     -->
    <ion-item>
      <ion-label position="floating">Subject:</ion-label>
      <ion-input
        formControlName="subject"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Coupon:</ion-label>
      <ion-input
        formControlName="coupon"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Url:</ion-label>
      <ion-input
        formControlName="url"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Summary:</ion-label>
      <ion-input
        formControlName="summary"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Category</ion-label>
      <ion-select  formControlName="category" >
      <span *ngFor="let category of blogSubjects; let i=index;">
          <ion-select-option checked="true" *ngIf="i==0">{{category.name}}</ion-select-option>
          <ion-select-option *ngIf="i>0" >{{category.name}}</ion-select-option>
      </span>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Upload Image:</ion-label>
      <ion-input type="file" formControlName = "file" (change)="chooseFile($event)"></ion-input>
    </ion-item>
    <!-- Add Progrss Bar Later -->

    <!-- <ion-item>
      <progress max="100" [value]="(uploadProgress | async)"></progress>
      <ion-progress-bar [value]="(uploadProgress | async)"></ion-progress-bar>
    </ion-item> -->

    
    <ion-item>
        <quill-editor formControlName="body" [sanitize]="true"></quill-editor>
       
      </ion-item>
    <ion-button expand="full" (click)="saveBlog()">Save Blog</ion-button>
  </form> 

  <br>

  <br>


  <!-- ADMIN ACTIONS -->
   
  <form 
  (ngSubmit)="makeAdmin()" [formGroup]="adminForm"
  class="center-align admin-actions admins" 
  style="margin: 40px auto; max-width: 300px;">
    <ion-list>
      <ion-item lines="none">
        <ion-label position="stacked">Email</ion-label>
        <ion-input type="email" placeholder="User email" id="admin-email" name="email" formControlName="email"></ion-input>
      </ion-item>
    </ion-list>
    <ion-button class="ion-padding-horizontal" color="primary" expand="full" type="submit"
      [disabled]="!adminForm.valid">Make admin</ion-button>
  </form>

  
             
</ion-content>
